{"name":"Spark-flint","tagline":"Small utility library for apache spark","body":"spark-flint\r\n===========\r\n\r\nAdds a simple editor to webUI for spark at http://localhost:4040/plugins. A hack for developers to get a better feel of data exploration. Is not for production, just local data exploration.\r\n\r\n#### Starting it  \r\n\r\n* :load flint.init  \r\nAssuming that we launched spark-shell from this folder or use the relative path, use this command on the spark repl  \r\n\r\n#### Sample  \r\nFor code-analysis load the code-analysis component using\r\n\r\n:load components/code-analysis/codeAnalysis.init\r\n\r\nAnalyze the git log for finding top committers, code churn (most changed files), distribution of commit and churn. The commands to run for this.  \r\n* Generate thg git log for some project with, git log --numstat > detailed.commit.log  \r\n* Register the file as a Table in spark with, registerCommitsAsTable(\"./detailed.commit.log\", \"commits\")  \r\n* Query this table from the ui (http://localhost:4040/plugins) with,select author, count(*) as commitCount from commits group by author order by commitCount desc limit 10\") or use the alias top10 as top10 commits,author  \r\n* On UI view distribution and top values with \"analyze commits,author\"  \r\n\r\nIn short the commit log is now mapped as an table (SchemaRDD) which can be queried like any other table. The UI supports other commands like analyze tablename, fieldname.  For a complete list run help. You can of course create any other table in repl and run sql on it from the web UI.\r\n\r\n\r\n### Misc  \r\nIf we add [asm-all-5.0.3.jar](http://repo1.maven.org/maven2/org/ow2/asm/asm-all/5.0.3/asm-all-5.0.3.jar) to classpath using add_jars, we can also view the source of spark classes from repl.\r\n\r\n* :load components/shell-enhancements/shellEnhance.init\r\n* SourceUtil.indexFolder(\"../../spark\")\r\n* SourceUtil.source(res6.head._2) where res6 is the output of\r\nsqlContext.sql(\"select * from commits limit 1\").queryExecution.analyzed.output.map {attr => (attr.name, attr.dataType)}\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}